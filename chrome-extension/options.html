<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Lightspeed → Airtable – Options</title>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 480px; margin: 2rem auto; padding: 0 1rem; }
    h1 { font-size: 1.25rem; }
    label { display: block; margin-top: 0.75rem; }
    input { width: 100%; padding: 0.5rem; margin: 0.25rem 0; box-sizing: border-box; }
    button { padding: 0.5rem 1rem; background: #0a0; color: #fff; border: none; border-radius: 4px; cursor: pointer; margin-top: 0.5rem; }
    button:hover { background: #080; }
    .muted { color: #666; font-size: 0.9rem; }
    .saved { color: #080; margin-top: 0.5rem; }
  </style>
</head>
<body>
  <h1>Lightspeed → Airtable</h1>
  <div id="setup-block">
    <p>Connect Lightspeed and Airtable once to get started.</p>
    <button id="get-started">Get started</button>
  </div>
  <div id="connected-block" hidden>
    <p class="saved">You're connected. Use the Export to Airtable button on any Lightspeed item list page.</p>
    <p id="configure-link" class="muted" style="margin-top: 1rem;"></p>
    <div id="base-url-block" style="margin-top: 1rem;">
      <label for="base-url">Airtable base</label>
      <p id="base-url-current" class="muted" style="margin: 0.25rem 0;"></p>
      <input type="text" id="base-url" placeholder="https://airtable.com/appXXXX...">
      <button type="button" id="base-url-save">Update base</button>
      <p id="base-url-status" class="muted" style="margin-top: 0.5rem;"></p>
    </div>
    <p class="muted" style="margin-top: 1.25rem;"><a href="#" id="reconnect-link">Reconnect</a> (get a new connection)</p>
    <div id="shared-key-block" style="margin-top: 1.25rem; padding-top: 1rem; border-top: 1px solid #eee;">
      <p class="muted" style="margin-bottom: 0.5rem;">Use a shared store key (one Airtable key for the whole store):</p>
      <label for="shared-key-select">Available keys</label>
      <select id="shared-key-select">
        <option value="">— Load list —</option>
      </select>
      <label for="shared-key-password" style="margin-top: 0.5rem;">Password for selected key</label>
      <input type="password" id="shared-key-password" placeholder="Enter password" autocomplete="off">
      <button type="button" id="shared-key-unlock">Unlock and use this key</button>
      <p id="shared-key-status" class="muted" style="margin-top: 0.5rem;"></p>
    </div>
  </div>
  <p id="status" class="muted"></p>
  <script src="options.js"></script>
</body>
</html>
